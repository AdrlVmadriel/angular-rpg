<canvas #combatCanvas>
  Your browser doesn't support this.
</canvas>

<combat-damage *ngFor="let d of damages"
               [value]="d.value"
               [position]="d.position"
               [classes]="d.classes"></combat-damage>

<combat-map #map [scene]="scene">
  <combat-state-machine [scene]="scene"
                        [party]="map.party"
                        [enemies]="map.enemies"
                        [encounter]="map.encounter$ | async"></combat-state-machine>

</combat-map>

<div class="combat-view">
  <div class="status" *ngFor="let member of party$ | async" [class]="getMemberClass(member,combat?.focus)">
    <div class="text">
      <span class="name">{{member.name}}</span>
      <span class="hp">HP {{member.hp}} / {{member.maxhp}}</span>
    </div>
    <rpg-health-bar [model]="member"></rpg-health-bar>
  </div>
</div>
